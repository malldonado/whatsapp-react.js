{"ast":null,"code":"import firebase from \"firebase/compat/app\";\nimport 'firebase/compat/auth';\nimport 'firebase/compat/firestore';\nimport firebaseConfig from './firebaseConfig';\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst db = firebaseApp.firestore(); // eslint-disable-next-line import/no-anonymous-default-export\n\nexport default {\n  fbPopup: async () => {\n    const provider = new firebase.auth.FacebookAuthProvider();\n    let result = await firebaseApp.auth().signInWithPopup(provider);\n    return result;\n  },\n  addUser: async u => {\n    await db.collection('users').doc(u.id).set({\n      name: u.name,\n      avatar: u.avatar\n    }, {\n      merge: true\n    });\n  },\n  getContactList: async userId => {\n    let list = [];\n    let results = await db.collection('users').get();\n    results.forEach(result => {\n      let data = result.data();\n\n      if (result.id !== userId) {\n        list.push({\n          id: result.id,\n          name: data.name,\n          avatar: data.avatar\n        });\n      }\n    });\n    return list;\n  }\n};","map":{"version":3,"sources":["C:/Users/mathe/OneDrive/Desktop/Projetos/whatsapp-firebase/src/Api.js"],"names":["firebase","firebaseConfig","firebaseApp","initializeApp","db","firestore","fbPopup","provider","auth","FacebookAuthProvider","result","signInWithPopup","addUser","u","collection","doc","id","set","name","avatar","merge","getContactList","userId","list","results","get","forEach","data","push"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,qBAArB;AACA,OAAO,sBAAP;AACA,OAAO,2BAAP;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;AAEA,MAAMC,WAAW,GAAGF,QAAQ,CAACG,aAAT,CAAuBF,cAAvB,CAApB;AACA,MAAMG,EAAE,GAAGF,WAAW,CAACG,SAAZ,EAAX,C,CAEA;;AACA,eAAe;AACXC,EAAAA,OAAO,EAAC,YAAY;AAChB,UAAMC,QAAQ,GAAG,IAAIP,QAAQ,CAACQ,IAAT,CAAcC,oBAAlB,EAAjB;AACA,QAAIC,MAAM,GAAG,MAAMR,WAAW,CAACM,IAAZ,GAAmBG,eAAnB,CAAmCJ,QAAnC,CAAnB;AACA,WAAOG,MAAP;AACH,GALU;AAMXE,EAAAA,OAAO,EAAC,MAAOC,CAAP,IAAa;AACjB,UAAMT,EAAE,CAACU,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BF,CAAC,CAACG,EAA7B,EAAiCC,GAAjC,CAAqC;AACvCC,MAAAA,IAAI,EAAEL,CAAC,CAACK,IAD+B;AAEvCC,MAAAA,MAAM,EAAEN,CAAC,CAACM;AAF6B,KAArC,EAGH;AAACC,MAAAA,KAAK,EAAC;AAAP,KAHG,CAAN;AAIH,GAXU;AAYXC,EAAAA,cAAc,EAAC,MAAOC,MAAP,IAAkB;AAC7B,QAAIC,IAAI,GAAG,EAAX;AAEI,QAAIC,OAAO,GAAG,MAAMpB,EAAE,CAACU,UAAH,CAAc,OAAd,EAAuBW,GAAvB,EAApB;AACAD,IAAAA,OAAO,CAACE,OAAR,CAAgBhB,MAAM,IAAI;AACtB,UAAIiB,IAAI,GAAGjB,MAAM,CAACiB,IAAP,EAAX;;AAEA,UAAGjB,MAAM,CAACM,EAAP,KAAcM,MAAjB,EAAyB;AACrBC,QAAAA,IAAI,CAACK,IAAL,CAAU;AACNZ,UAAAA,EAAE,EAAEN,MAAM,CAACM,EADL;AAENE,UAAAA,IAAI,EAAES,IAAI,CAACT,IAFL;AAGNC,UAAAA,MAAM,EAAEQ,IAAI,CAACR;AAHP,SAAV;AAKH;AACJ,KAVD;AAYJ,WAAOI,IAAP;AACH;AA7BU,CAAf","sourcesContent":["import firebase from \"firebase/compat/app\";\r\nimport 'firebase/compat/auth';\r\nimport 'firebase/compat/firestore';\r\n\r\nimport firebaseConfig from './firebaseConfig';\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst db = firebaseApp.firestore();\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default {\r\n    fbPopup:async () => {\r\n        const provider = new firebase.auth.FacebookAuthProvider();\r\n        let result = await firebaseApp.auth().signInWithPopup(provider);\r\n        return result;\r\n    },\r\n    addUser:async (u) => {\r\n        await db.collection('users').doc(u.id).set({\r\n            name: u.name,\r\n            avatar: u.avatar\r\n        }, {merge:true});\r\n    },\r\n    getContactList:async (userId) => {\r\n        let list = [];\r\n\r\n            let results = await db.collection('users').get();\r\n            results.forEach(result => {\r\n                let data = result.data();\r\n\r\n                if(result.id !== userId) {\r\n                    list.push({\r\n                        id: result.id,\r\n                        name: data.name,\r\n                        avatar: data.avatar,\r\n                    })\r\n                }\r\n            })\r\n\r\n        return list;\r\n    }\r\n};\r\n"]},"metadata":{},"sourceType":"module"}